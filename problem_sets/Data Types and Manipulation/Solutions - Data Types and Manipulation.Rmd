
---
title: 'Problem Set 03 Solutions: Data Types & Manipulation'
author: "Will Hopper"
output:
  html_document:
    css: "https://wjhopper.github.io/sds201_labs/assets/css/lab.css"
    theme: lumen
    toc: yes
    toc_float:
      collapsed: false
    toc_depth: 2
    df_print: paged
    self_contained: true
editor_options: 
  chunk_output_type: console
---

<div class="attention">
For all exercises, make sure your R code prints out your final results!!
</div>

## Exercise

Try to create a vector that holds all the 4 basic data types. Does this work? What type or types of data are stored in the resulting vector?

### Solution

The 4 basic data types are character, double, integer, and logical. Here's one way to try and create a vector with all four of these (note that the specific values don't matter, just the syntax):

```{r}
x <- c(TRUE, "hello", 10, 10L)
x
typeof(x)
```

The resulting vector converted everything to character data, because you cannot mix data types within a vector!

## Exercise
Find the grand sum of the all the elements in the two following vectors (using R, of course).

```{r grand_sum}
x <- c(149, 486, 174, 435, 188, 397, 497, 256, 346, 494)
y <- c(1839, 2709, 2422, 1547, 1686, 2159, 2929, 651, 1358, 756)
```

### Solution
You can do this several ways:
```{r}
sum(x, y) # sum both vectors (fastest)
sum(c(x, y)) # concatenate the vectors into one, then sum
sum(x + y) # add together elementwise, then sum (slowest)
```

## Exercise
Consider the character vector bellow named `months`, which represents every month of the year by name.

```{r example1, prompt=FALSE}
months <- c("January", "February", "March", "April", "May", "June", "July",
            "August", "September", "October", "November", "December")
```

Using indexing, 

1. Select just the months of `"February"` and `"March"` from this vector
2. Select every third month of the year from this vector

### Solution
```{r}
months[c(2,3)]
months[seq(from=3, to=12, by=3)] # or just type out c(3, 6, 9 ,12)
```

**Note**: If you did months 1, 4, 7 and 10, that's fine too.

## Exercise

Write an expression using logical testing and indexing that, when applied to the vector `dummy`, returns the same output as the numeric indexing example shown below. In other words, a logical test that selects the 5^th^, 6^th^ and 7^th^ elements.

```{r indexingActivity}
dummy <- 17:23
dummy[5:7]
```

We want to extract the values 21, 22, and 23. There are two ways to do this - the easy way, and the hard way
```{r}
dummy[dummy >= 21] # easy way, same as dummy[dummy > 20]
dummy[c(FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE)] # hard way
```

## Exercise
A local grocery store sells several varieties of fruit: grapes for $4, kiwis for $2.00, mangoes for $3.00, and apples for 99 cents. Each fruit also has a "sell by" date: the grapes must be sold by February 19th, the kiwis must be sold by February 20th, the mangoes must be sold by February 18th, and the apples must be sold by February 28th. 

In R, create a "tidy" data frame that represents each fruit for sale, its price, and its expiration date. Make sure each column in your data frame has an appropriate name, and carefully consider what **data type** you represent each piece of information with.

### Solution
Here's one possible solution:
```{r}
fruits <- data.frame(fruit = c("grapes", "kiwi", "mango", "apple"),
                     price = c(4, 2, 3, .99),
                     expiration = c("2-19", "2-20", "2-18", "2-28")
                     )
fruits
```

## Exercise
From your fruit data frame, select only rows where the price is $2.00 or more.

### Solution
```{r}
fruits[fruits$price >= 2, ]
```

***

For the rest of the problem set, you'll be working with the famous [iris](https://en.wikipedia.org/wiki/Iris_flower_data_set) data set. The data set set gives the measurements in centimeters of the sepal (a.k.a. the inner petals) length and width and petal length and width, respectively, for 50 flowers from each of 3 species of iris. The species are Iris setosa, Iris versicolor, and Iris virginica.

![](https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Iris_versicolor_3.jpg/440px-Iris_versicolor_3.jpg)

The data set comes built-in with R, and you can load it into your environment by using the `data` function.

```{r iris}
data(iris)
```

## Exercise
What is the interquartile range for the petal length distribution (across all species)? Report your answer to 2 decimal places

### Solution
```{r}
summary(iris$Petal.Width)
1.8 - .3
```

## Exercise

Select only the first five rows and first two columns from the iris data set (no need to save the output, only print it).

### Solution
```{r}
iris[1:5, 1:2]
```

## Exercise
Select only the rows of the iris data set where the iris species is setosa or versicolor (no need to save the output, only print it).

### Solution
Two ways to do this:
```{r}
iris[iris$Species == "setosa" | iris$Species == "versicolor",]
iris[iris$Species %in% c("setosa", "versicolor"),] 
```

## Exercise
What species have a sepal width less than 2.1? Show how you found the answer with R code.

### Solution
```{r}
iris[iris$Sepal.Width < 2.1,]
```

## Exercise
Consider the following boxplot showing the distribution of petal widths for each species of iris.

```{r boxplot, echo=FALSE}
library(ggplot2)
ggplot(data = iris, mapping = aes(x=Species, y = Petal.Width)) +
  geom_boxplot() + coord_flip()
```

Which species has the most variable petal lengths? Which species has the most skewed distribution of petal lengths?

### Solution
Iris Virginica is the most variable (widest IQR and whiskers), while Iris Setosa is highly right-skewed; the median is almost exactly equal to the first quartile!